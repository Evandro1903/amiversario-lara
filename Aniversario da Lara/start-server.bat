@echo off
cd /d "c:\Aniversario da Lara"
echo Iniciando servidor em http://localhost:8000
powershell -NoProfile -Command "$listener = New-Object System.Net.HttpListener; $listener.Prefixes.Add('http://localhost:8000/'); $listener.Start(); Write-Host 'Servidor rodando em http://localhost:8000 - Pressione Ctrl+C para parar'; while($true) { $ctx = $listener.GetContext(); $req = $ctx.Request; $path = $req.Url.LocalPath.TrimStart('/'); if([string]::IsNullOrEmpty($path)) { $path = 'index.html' }; $file = Join-Path (Get-Location) $path; if(Test-Path $file) { $bytes = [System.IO.File]::ReadAllBytes($file); $ct = switch([System.IO.Path]::GetExtension($file).ToLower()) { '.html' { 'text/html; charset=utf-8' } '.css' { 'text/css; charset=utf-8' } '.js' { 'application/javascript; charset=utf-8' } '.jpg' { 'image/jpeg' } '.jpeg' { 'image/jpeg' } '.png' { 'image/png' } '.svg' { 'image/svg+xml' } default { 'application/octet-stream' } }; $ctx.Response.ContentType = $ct; $ctx.Response.ContentLength64 = $bytes.Length; $ctx.Response.OutputStream.Write($bytes, 0, $bytes.Length) } else { $ctx.Response.StatusCode = 404; $msg = [System.Text.Encoding]::UTF8.GetBytes('404 - Not Found'); $ctx.Response.OutputStream.Write($msg, 0, $msg.Length) }; $ctx.Response.OutputStream.Close() }"
